AFRAME.registerComponent("blink-teleportation",{schema:{pos:{type:"vec3"},dur:{type:"number",default:300},hide:{type:"boolean",default:!1}},init:function(){var e=this.el,i=this.data,t=document.querySelector("#camera"),o=document.querySelector("#cameraRig"),r=document.querySelectorAll("[blink-teleportation]"),n=document.querySelector("a-cursor"),a=document.createElement("a-image");a.setAttribute("material",{color:"#000000",opacity:0}),a.object3D.position.z=-.1,t.appendChild(a),e.addEventListener("click",function(){a.setAttribute("animation",{property:"material.opacity",from:0,to:1,dur:i.dur,easing:"easeOutCubic"}),setTimeout(function(){o.setAttribute("position",i.pos);for(var t=0;t<r.length;t++)r[t].setAttribute("class","clickable"),e.setAttribute("class","not-clickable"),n.components.raycaster.refreshObjects(),r[t].setAttribute("visible","true");!0===i.hide&&e.setAttribute("visible","false"),e.emit("position-changed")},i.dur)}),e.addEventListener("position-changed",function(){a.setAttribute("animation",{to:0})})}});
