AFRAME.registerComponent("blink-teleportation",{schema:{pos:{type:"vec3"},dur:{type:"number",default:300},hide:{type:"boolean",default:!1}},init:function(){var e=this.el,i=this.data,t=document.querySelector("a-camera"),o=document.querySelector("a-cursor"),r=document.querySelector("#cameraRig"),a=document.querySelectorAll("[blink-teleportation]"),n=document.createElement("a-image");n.setAttribute("material",{color:"#000000",opacity:0}),n.object3D.position.z=-.1,t.appendChild(n),e.addEventListener("click",function(){n.setAttribute("animation",{property:"material.opacity",from:0,to:1,dur:i.dur,easing:"easeOutCubic"}),setTimeout(function(){r.setAttribute("position",i.pos);for(var t=0;t<a.length;t++)a[t].setAttribute("visible","true"),a[t].setAttribute("class","clickable"),e.setAttribute("class","not-clickable"),o.components.raycaster.refreshObjects();!0===i.hide&&e.setAttribute("visible","false"),e.emit("position-changed")},i.dur)}),e.addEventListener("position-changed",function(){n.setAttribute("animation",{to:0})})}});